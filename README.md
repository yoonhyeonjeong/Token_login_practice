## π“`login.js` νμΌ λ‚΄ ν•¨μμ μ—­ν•  μ„¤λ…

### 1. `login` ν•¨μμ μ‹¤ν–‰ κ³Όμ •μ— λ€ν•΄ μ„¤λ…

<hr/>

`login` ν•¨μλ” ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° μ „λ‹¬λ μ‚¬μ©μ IDμ™€ λΉ„λ°€λ²νΈλ¥Ό μ‚¬μ©ν•μ—¬ λ΅κ·ΈμΈ μ”μ²­μ„ μ²λ¦¬ν•λ” ν•¨μμ…λ‹λ‹¤. μ‹¤ν–‰ κ³Όμ •μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.

1. ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° `userId`μ™€ `userPassword`λ¥Ό `req.body`λ΅ μ „λ‹¬λ°›μµλ‹λ‹¤.
2. `users` λ°°μ—΄μ—μ„ `userId`μ™€ `userPassword`κ°€ μΌμΉν•λ” μ‚¬μ©μλ¥Ό μ°Ύμµλ‹λ‹¤. μ΄λ•, `find` λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ—¬ μ‚¬μ©μ μ •λ³΄λ¥Ό κ²€μƒ‰ν•©λ‹λ‹¤.
3. μ‚¬μ©μκ°€ μ΅΄μ¬ν•μ§€ μ•μ„ κ²½μ°(`userInfo`κ°€ μ—†μ„ κ²½μ°), μƒνƒ μ½”λ“ `401`μ„ λ°ν™ν•λ©° "λ΅κ·ΈμΈ μ‹¤ν¨" λ©”μ‹μ§€λ¥Ό ν΄λΌμ΄μ–ΈνΈμ— μ „μ†΅ν•©λ‹λ‹¤.
4. μ‚¬μ©μκ°€ μ΅΄μ¬ν•  κ²½μ°(`userInfo`κ°€ μμ„ κ²½μ°), `jwt.sign` λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ—¬ `userId`λ¥Ό ν¬ν•¨ν• JWT μ•΅μ„Έμ¤ ν† ν°μ„ μƒμ„±ν•©λ‹λ‹¤. μ΄λ•, ν† ν°μ μ ν¨κΈ°κ°„μ€ `1000 * 60 * 10` λ°€λ¦¬μ΄(10λ¶„)λ΅ μ„¤μ •λ©λ‹λ‹¤.
5. μƒμ„±λ μ•΅μ„Έμ¤ ν† ν°μ„ ν΄λΌμ΄μ–ΈνΈμ—κ² μ‘λ‹µμΌλ΅ μ „μ†΅ν•©λ‹λ‹¤.

### 2. `getUserInfo` ν•¨μμ μ‹¤ν–‰ κ³Όμ •μ— λ€ν•΄ μ„¤λ…

<hr/>

`getUserInfo` ν•¨μλ” ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° μ „λ‹¬λ JWT μ•΅μ„Έμ¤ ν† ν°μ„ κ²€μ¦ν•κ³ , ν•΄λ‹Ή μ‚¬μ©μμ μ •λ³΄λ¥Ό λ°ν™ν•λ” ν•¨μμ…λ‹λ‹¤. μ‹¤ν–‰ κ³Όμ •μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.

1. ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ `Authorization` ν—¤λ”μ—μ„ JWT μ•΅μ„Έμ¤ ν† ν°μ„ μ¶”μ¶ν•©λ‹λ‹¤. ν† ν°μ€ `Bearer` λ¬Έμμ—΄ λ‹¤μμ— μ„μΉν•λ©°, `split(" ")[1]`μ„ μ‚¬μ©ν•μ—¬ κ°€μ Έμµλ‹λ‹¤.
2. μ¶”μ¶λ μ•΅μ„Έμ¤ ν† ν°μ„ `jwt.verify` λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ—¬ κ²€μ¦ν•©λ‹λ‹¤. κ²€μ¦ κ³Όμ •μ—μ„ ν† ν°μ μ ν¨μ„±κ³Ό μ„μ΅° μ—¬λ¶€λ¥Ό ν™•μΈν•λ©°, μ„±κ³µ μ‹ ν† ν°μ νμ΄λ΅λ“λ¥Ό λ°ν™ν•©λ‹λ‹¤.
3. νμ΄λ΅λ“μ—μ„ `userId`λ¥Ό μ¶”μ¶ν• ν›„, `users` λ°°μ—΄μ—μ„ ν•΄λ‹Ή μ‚¬μ©μμ μ •λ³΄λ¥Ό μ°Ύμµλ‹λ‹¤.
4. μ°Ύμ€ μ‚¬μ©μ μ •λ³΄λ¥Ό JSON ν•μ‹μΌλ΅ ν΄λΌμ΄μ–ΈνΈμ— μ‘λ‹µν•©λ‹λ‹¤.
